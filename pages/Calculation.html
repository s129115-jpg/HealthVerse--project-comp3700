<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Health Verse | Calculation</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style_sheet.css">

    <style>
        :root {--primary:#0c8c8c;--light-bg:#f2f6f7;--section-bg:#ffffff;--text-dark:#222;}
        body {background:var(--light-bg);font-family:"Segoe UI",sans-serif;color:var(--text-dark);margin:0;}
        h1 {text-align:center;font-size:56px;color:var(--primary);font-weight:700;margin-top:25px;}
        h2 {background-color:rgba(168,231,213,0.6);text-align:center;font-family:"Times New Roman",Times,serif;padding:10px;color:#000;margin-bottom:20px;}
        p {padding:20px;font-size:15px;line-height:1.6;}
        form {background-color:#fff;padding:20px;margin:20px auto;max-width:700px;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,0.08);}
        label {font-weight:500;}
        select,input[type="number"],input[type="checkbox"],input[type="text"] {width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:6px;box-sizing:border-box;}
        button {width:100%;padding:10px;background-color:var(--primary);color:#fff;border:none;border-radius:6px;font-weight:600;}
        button:hover {background-color:#086868;}
        #totalBill {background-color:#e6e6e6a0;padding:20px;margin:20px auto;max-width:400px;border-radius:10px;box-shadow:0 2px 4px rgba(0,0,0,0.1);text-align:center;font-size:18px;font-weight:600;}
        #logo {width:70px;height:auto;}
        .icon-small {width:28px;height:28px;margin-right:8px;}
    </style>

    <script>
        let lastSubscriptionBill = 0;

        function calculateSubscriptionBill() {
            let subscriptionType = parseInt(document.getElementById('subscriptionType').value);
            let age = parseInt(document.getElementById('age').value);
            let isStudent = document.getElementById('isStudent').checked;

            let basePrice = 0;
            let discountPercentage = 0;

            switch (subscriptionType) {
                case 1:  basePrice = 5.99;  break;
                case 6:  basePrice = 29.99; break;
                case 12: basePrice = 59.99; break;
                default: basePrice = 0;
            }

            if (!isNaN(age) && age >= 60) {discountPercentage = 10;}
            if (isStudent) {discountPercentage = 15;}

            let discountedPrice = basePrice - (basePrice * (discountPercentage / 100));
            lastSubscriptionBill = discountedPrice;

            displayTotalBill(discountedPrice,"Subscription Bill");
            return false;
        }

        function calculateHealthBill() {
            let exercisePrice = parseFloat(document.getElementById('exercise').value);
            let dietPrice = parseFloat(document.getElementById('diet').value);
            let height = parseFloat(document.getElementById('height').value);
            let weight = parseFloat(document.getElementById('weight').value);

            if (isNaN(exercisePrice)) exercisePrice = 0;
            if (isNaN(dietPrice)) dietPrice = 0;

            let totalHealthBill = exercisePrice + dietPrice + lastSubscriptionBill;
            displayTotalBill(totalHealthBill,"Total Health & Fitness Bill (including subscription)");
            return false;
        }

        function applyDiscount() {
            let discountCode = document.getElementById('discountCode').value.trim();
            let billDiv = document.getElementById('totalBill');

            if (!billDiv.innerText || !billDiv.innerText.includes('$')) {
                billDiv.innerHTML = "Please calculate a bill first before applying a discount.";
                return;
            }

            let currentBill = parseFloat(billDiv.innerText.split('$')[1]);
            if (isNaN(currentBill)) {
                billDiv.innerHTML += "<br><br>Unable to read current bill.";
                return;
            }

            if (discountCode === "DIS28") {
                let discountedBill = currentBill - (currentBill * 0.28);
                billDiv.innerHTML += "<br><br>Discount Applied: 28% off<br>Total Bill (After Discount): $" + discountedBill.toFixed(2);
            } else {
                billDiv.innerHTML += "<br><br>Invalid Discount Code";
            }
        }

        function displayTotalBill(totalBill,labelText) {
            document.getElementById('totalBill').innerHTML = (labelText ? labelText + ": " : "Total Bill: ") + "$" + totalBill.toFixed(2);
        }
    </script>
</head>

<body>
    <!-- NAVBAR -->
    <header>  
             <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid font1">
                <a class="navbar-brand" href="index.html">
                    <img src="logo_pro1.png" alt="Health Verse Logo" id="logo" class="d-inline-block align-text-top">
                    <span style="font-weight:600;font-size:22px;">Health Verse</span>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" 
                        data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" 
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbar">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                        <li class="nav-item"><a class="nav-link" href="Food.html">Nutrition</a></li>
                        <li class="nav-item"><a class="nav-link" href="Mental Health.html">Mental Health</a></li>
                        <li class="nav-item"><a class="nav-link" href="exercise.html">Exercise</a></li>
                        <li class="nav-item"><a class="nav-link" href="appointments.html">Appointments</a></li>
                        <li class="nav-item"><a class="nav-link" href="about us.html">About Us</a></li>
                        <li class="nav-item"><a class="nav-link" href="contact.html">Contact Us</a></li>
                        <li class="nav-item"><a class="nav-link active" href="Calculation.html">Calculation</a></li>
                        <li class="nav-item"><a class="nav-link" href="funpage.html">Funpage</a></li>
                        <li class="nav-item"><a class="nav-link" href="questionnaire.html">Questionnaire</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <h1>Calculation Page</h1>
    <hr>

    <p>
        Welcome to our Subscription Bill Calculator! This page provides a convenient way for users to estimate the cost of their subscription
        and health &amp; fitness plans. With easy-to-use forms, users can select their desired subscription type, input personal details such as age and 
        student status, as well as choose from various exercise and diet plans. The calculator dynamically updates to display the total bill based on the user's
        selections, ensuring transparency and accuracy. Users can also apply discount codes to save on their subscription costs.
    </p>

    <!-- SUBSCRIPTION FORM -->
    <form id="subscriptionForm" onsubmit="return calculateSubscriptionBill();">
        <h2>Bill Calculator</h2>
        <label for="subscriptionType">Choose Subscription Type:</label>
        <select id="subscriptionType" name="subscriptionType">
            <option value="1">1 Month ($5.99)</option>
            <option value="6">6 Months ($29.99)</option>
            <option value="12">1 Year ($59.99)</option>
        </select>

        <label for="age">Enter Your Age:</label>
        <input type="number" id="age" name="age">

        <label for="isStudent">Are you a student?</label>
        <input type="checkbox" id="isStudent" name="isStudent">

        <button type="submit">Calculate Subscription Bill</button>
    </form>

    <hr>

    <!-- HEALTH & FITNESS FORM -->
    <form id="healthForm" onsubmit="return calculateHealthBill();">
        <h2>Health &amp; Fitness Plan</h2>

        <label for="height">Height (cm):</label>
        <input type="number" id="height" name="height">

        <label for="weight">Weight (kg):</label>
        <input type="number" id="weight" name="weight">

        <label for="exercise">Choose Exercise Plan:</label>
        <select id="exercise" name="exercise">
            <option value="0">No Exercise Plan ($0.00)</option>
            <option value="29.99">Basic Exercise Plan ($29.99)</option>
            <option value="49.99">Advanced Exercise Plan ($49.99)</option>
        </select>

        <label for="diet">Choose Diet Plan:</label>
        <select id="diet" name="diet">
            <option value="0">No Diet Plan ($0.00)</option>
            <option value="19.99">Basic Diet Plan ($19.99)</option>
            <option value="39.99">Premium Diet Plan ($39.99)</option>
        </select>

        <button type="submit">Calculate Health &amp; Fitness Bill</button>
    </form>

    <hr>

    <!-- DISCOUNT FORM -->
    <form id="discountForm" onsubmit="event.preventDefault(); applyDiscount();">
        <h2>Apply Discount</h2>
        <label for="discountCode">Enter Discount Code:</label>
        <input type="text" id="discountCode" name="discountCode">
        <button type="submit">Apply Discount</button>
    </form>

    <hr>

    <h2>Total Bill</h2>
    <div id="totalBill"></div>

    <!-- FOOTER -->
<footer class="footer mt-4">
            <div class="container">
                <div class="row">
                
                    <div class="col-md-4">
                        <h4>Health Verse</h4>
                        <p class="bg-gray">Your Guide to Balanced Health and Well-Being</p>
                    </div>

                    <div class="col-md-4">
                        <h4>Visit our accounts</h4>
                        <div class="row">
                            <div class="col-md-1">
                                <a href="https://www.instagram.com/">
                                    <img src="instagram.png" alt="instagram-account" class="icon-small">
                                </a>
                            </div>
                            <div class="col-md-1">
                                <a href="https://x.com/">
                                    <img src="twitter.png" alt="twitter-account" class="icon-small">
                                </a>
                            </div>
                            <div class="col-md-1">
                                <a href="https://www.facebook.com/">
                                    <img src="facebook.png" alt="facebook-account" class="icon-small">
                                </a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-4">
                        <h4>Reach Our Support Team</h4>
                        <p><a href="mailto:healthverse.contact@gmail.com">healthverse.contact@gmail.com</a></p>
                    </div>
                </div>
            </div>
        </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
